
<h1 class="my-5 text-3xl font-bold text-center">Details</h1>
<% if current_user %>
  <h1 class="text-red-500 font-bold text-center text-3xl">Log Out To Fill The Form</h1>
<% else %>
  <%= form_with(model: @detail, class: "max-w-4xl mx-auto bg-white p-8 shadow-lg rounded-lg") do |form| %>
    <% if @detail.errors.any? %>
      <div class="mb-6 p-4 bg-red-100 text-red-700 rounded-lg">
        <h2 class="font-semibold"><%= pluralize(@detail.errors.count, "error") %> prohibited this detail from being saved:</h2>
        <ul class="list-disc pl-5">
          <% @detail.errors.each do |error| %>
            <li><%= error.full_message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <%= form.label :faculty_name, class: "block font-medium text-gray-700" %>
        <%= form.text_field :faculty_name, class: "w-full px-4 py-2 border rounded-lg focus:ring focus:ring-blue-300", required: true %>
      </div>
      <div>
        <%= form.label :semester, class: "block font-medium text-gray-700" %>
        <%= form.select :semester, 
            [
              ["Semester I", "Semester I"], 
              ["Semester II", "Semester II"], 
              ["Semester III", "Semester III"], 
              ["Semester IV", "Semester IV"], 
              ["Semester V", "Semester V"], 
              ["Semester VI", "Semester VI"], 
              ["Semester VII", "Semester VII"], 
              ["Semester VIII", "Semester VIII"]
            ], 
            {}, 
            class: "w-full px-4 py-2 border rounded-lg focus:ring focus:ring-blue-300", required: true
        %>
      </div>
      <div>
        <%= form.label :section, class: "block font-medium text-gray-700" %>
        <%= form.select :section, 
            [
              ["A", "A"], 
              ["B", "B"], 
              ["CSD", "CSD"], 
            ], 
            {}, 
            class: "w-full px-4 py-2 border rounded-lg focus:ring focus:ring-blue-300", required: true
        %>
      </div>
      <div>
        <%= form.label :academic_year, class: "block font-medium text-gray-700" %>
        <%= form.text_field :academic_year, class: "w-full px-4 py-2 border rounded-lg focus:ring focus:ring-blue-300", required: true %>
      </div>
      <div>
        <%= form.label :subject_code, class: "block font-medium text-gray-700" %>
        <%= form.text_field :subject_code, class: "w-full px-4 py-2 border rounded-lg focus:ring focus:ring-blue-300", required: true %>
      </div>
    </div>

    <h3 class="mt-6 text-lg font-semibold text-gray-800">Co Attainment with C.I.E</h3>
    <div class="grid grid-cols-2 md:grid-cols-3 gap-4 mt-2">
      <% [:co1, :co2, :co3, :co4, :co5].each do |co| %>
        <div>
          <%= form.label co, class: "block text-gray-700" %>
          <%= form.number_field co, step: 0.1, min: 0, class: "w-full px-4 py-2 border rounded-lg focus:ring focus:ring-blue-300", required: true %>
        </div>
      <% end %>
    </div>

    <h3 class="mt-6 text-lg font-semibold text-gray-800">Co Attainment with S.E.E</h3>
    <div class="mt-2">
      <%= form.label :see_co1_co5, "Co1 - Co5", class: "block text-gray-700" %>
      <%= form.number_field :see_co1_co5, step: 0.1, min: 0, class: "w-full px-4 py-2 border rounded-lg focus:ring focus:ring-blue-300", required: true %>
    </div>

    <h3 class="mt-6 text-lg font-semibold text-gray-800">PO Attainment</h3>
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-2">
      <% (1..12).each do |po| %>
        <div>
          <%= form.label "po#{po}", "PO#{po}", class: "block text-gray-700" %>
          <%= form.number_field "po#{po}", step: 0.1, min: 0, class: "w-full px-4 py-2 border rounded-lg focus:ring focus:ring-blue-300", required: true %>
        </div>
      <% end %>
    </div>

    <h3 class="mt-6 text-lg font-semibold text-gray-800">PSO Attainment</h3>
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-2">
    
      <% (1..3).each do |pso| %>
        <div>
          <%= form.label "pso#{pso}", "PSO#{pso}", class: "block text-gray-700" %>
          <%= form.number_field "pso#{pso}", step: 0.1, min: 0, class: "w-full px-4 py-2 border rounded-lg focus:ring focus:ring-blue-300", required: true %>
        </div>
      <% end %>
    </div>
    

    <div class="mt-6 flex justify-end">
      <%= form.submit "Submit", class: "px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:ring focus:ring-blue-300" %>
    </div>
  <% end %>
<% end %>

